{% extends 'index.html' %}

{% block title %}
    Forum Motoryzacyjne
{% endblock %}

{% block content %}
    <div class="forum-content container mt-4">
        <h1>Witamy na Forum Motoryzacyjnym</h1>
        <a href="{% url 'add_thread' %}" class="btn btn-primary">Dodaj nowy wątek</a>
        <hr>
        <!-- Lista wątków -->
        {% for thread in threads %}
            <div class="thread">
                <h2><a href="{% url 'forum_detail' thread_id=thread.id %}">{{ thread.title }}</a></h2>
                <p>Autor: {{ thread.author.username }} | Data: {{ thread.created_at }}</p>
                <p>{{ thread.content|truncatewords:20 }}</p>
            </div>
            <hr>
        {% endfor %}

        <!-- Nawigacja paginacji -->
        <div class="pagination">
            <span class="step-links">
                {% if threads.has_previous %}
                    <a href="?page=1">&laquo; Pierwsza</a>
                    <a href="?page={{ threads.previous_page_number }}">Poprzednia</a>
                {% endif %}

                <span class="current">
                    Strona {{ threads.number }} z {{ threads.paginator.num_pages }}
                </span>

                {% if threads.has_next %}
                    <a href="?page={{ threads.next_page_number }}">Następna</a>
                    <a href="?page={{ threads.paginator.num_pages }}">Ostatnia &raquo;</a>
                {% endif %}
            </span>
        </div>
    </div>
{% endblock content %}